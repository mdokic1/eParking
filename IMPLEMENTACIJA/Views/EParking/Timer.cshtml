
@{
    ViewData["Title"] = "Timer";
}

    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        
        <title>Stopwatch</title>

        <style>
            #display {
                width: 100%;
                font-size: 72px;
                text-align: center;
                margin: 0px auto;
            }

            .buttons {
                text-align: center;
            }
        </style>

    </head>
<body>

    <div class="container">

        <div id="display">
            00:00:00
        </div>

        <div class="buttons">
            <button id="startStop" class="btn btn-primary btn-lg" onclick="startStop()">Regisgtruj izlazak</button>
        </div>

    </div>

    <script>
        //Define vars to hold time values
        let seconds = 0;
        let minutes = 0;
        let hours = 0;

        //Define vars to hold "display" value
        let displaySeconds = 0;
        let displayMinutes = 0;
        let displayHours = 0;

        //Define var to hold setInterval() function
        let interval = null;

        //Define var to hold stopwatch status
        let status = "started";

        //Stopwatch function (logic to determine when to increment next value, etc.)
        function stopWatch() {

            seconds++;

            //Logic to determine when to increment next value
            if (seconds / 60 === 1) {
                seconds = 0;
                minutes++;

                if (minutes / 60 === 1) {
                    minutes = 0;
                    hours++;
                }

            }

            //If seconds/minutes/hours are only one digit, add a leading 0 to the value
            if (seconds < 10) {
                displaySeconds = "0" + seconds.toString();
            }
            else {
                displaySeconds = seconds;
            }

            if (minutes < 10) {
                displayMinutes = "0" + minutes.toString();
            }
            else {
                displayMinutes = minutes;
            }

            if (hours < 10) {
                displayHours = "0" + hours.toString();
            }
            else {
                displayHours = hours;
            }

            //Display updated time values to user
            document.getElementById("display").innerHTML = displayHours + ":" + displayMinutes + ":" + displaySeconds;

        }

        interval = window.setInterval(stopWatch, 1000);

        function startStop() {
            //ako ne zelis da se opet pokrene nakon stopa ukini setInterval u ELSE!!!
            if (status == "started") {

                //Start the stopwatch (by calling the setInterval() function)
                //interval = window.setInterval(stopWatch, 1000);
                //document.getElementById("startStop").innerHTML = "Stop";
                window.clearInterval(interval);
                status = "stopped";

            }
            else {

                //window.clearInterval(interval);
                interval = window.setInterval(stopWatch, 1000);
                //document.getElementById("startStop").innerHTML = "Start";
                status = "started";

            }

        }

        //Function to reset the stopwatch
        function reset() {

            window.clearInterval(interval);
            seconds = 0;
            minutes = 0;
            hours = 0;
            document.getElementById("display").innerHTML = "00:00:00";
            //document.getElementById("startStop").innerHTML = "Start";

        }

    </script>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

</body>

